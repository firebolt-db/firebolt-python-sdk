{"uid":"b5d9142efdf1e5ac","name":"test_engine_update_multiple_parameters","fullName":"tests.integration.resource_manager.V2.test_engine#test_engine_update_multiple_parameters","historyId":"d0730745f4a860358aae5225479b5fbe","time":{"start":1734084495830,"stop":1734084822296,"duration":326466},"status":"broken","statusMessage":"firebolt.utils.exception.OperationalError: Error executing query:\n{\n  \"errors\": [\n    {\n      \"description\": \"Starting engine failed. Not enough resources available to satisfy the request. Try again after 10 minutes or reach out to support if the problem persists.\"\n    }\n  ],\n  \"query\": {\n    \"query_id\": \"58d67001-5287-4d37-8ab0-b3c4dc547f5e\",\n    \"request_id\": \"aefe2c88-527d-45d7-b775-89061c8db646\"\n  },\n  \"statistics\": {\n    \"elapsed\": 0.0\n  }\n}","statusTrace":"auth = <firebolt.client.auth.client_credentials.ClientCredentials object at 0x7f987ac505c0>\naccount_name = 'automation', api_endpoint = 'api.staging.firebolt.io'\ndatabase_name = 'integration_testing__1734084063626'\nmulti_param_engine_name = 'integration_testing__1734084063626_m_param'\n\n    def test_engine_update_multiple_parameters(\n        auth: Auth,\n        account_name: str,\n        api_endpoint: str,\n        database_name: str,\n        multi_param_engine_name: str,\n    ):\n        rm = ResourceManager(\n            auth=auth, account_name=account_name, api_endpoint=api_endpoint\n        )\n    \n        name = multi_param_engine_name\n        engine = rm.engines.create(name=name)\n    \n        try:\n            engine.attach_to_database(rm.databases.get(database_name))\n            assert engine.database.name == database_name\n    \n            params = {k: v.set for k, v in ENGINE_UPDATE_PARAMS.items()}\n>           engine.update(**params)\n\ntests/integration/resource_manager/V2/test_engine.py:122: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/model/V2/engine.py:235: in update\n    c.execute(sql, parameters)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/common/base_cursor.py:122: in inner\n    return func(self, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:229: in execute\n    self._do_execute(query, params_list, skip_parsing)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:178: in _do_execute\n    self._raise_if_error(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <firebolt.db.cursor.CursorV2 object at 0x7f9883528880>\nresp = <Response [500 Internal Server Error]>\n\n    def _raise_if_error(self, resp: Response) -> None:\n        \"\"\"Raise a proper error if any\"\"\"\n        if resp.status_code == codes.INTERNAL_SERVER_ERROR:\n>           raise OperationalError(\n                f\"Error executing query:\\n{resp.read().decode('utf-8')}\"\n            )\nE           firebolt.utils.exception.OperationalError: Error executing query:\nE           {\nE             \"errors\": [\nE               {\nE                 \"description\": \"Starting engine failed. Not enough resources available to satisfy the request. Try again after 10 minutes or reach out to support if the problem persists.\"\nE               }\nE             ],\nE             \"query\": {\nE               \"query_id\": \"58d67001-5287-4d37-8ab0-b3c4dc547f5e\",\nE               \"request_id\": \"aefe2c88-527d-45d7-b775-89061c8db646\"\nE             },\nE             \"statistics\": {\nE               \"elapsed\": 0.0\nE             }\nE           }\n\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:89: OperationalError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"auth","time":{"start":1734084102341,"stop":1734084102584,"duration":243},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_id","time":{"start":1734084102341,"stop":1734084102341,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_secret","time":{"start":1734084102341,"stop":1734084102341,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_endpoint","time":{"start":1734084102584,"stop":1734084102584,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"account_name","time":{"start":1734084102584,"stop":1734084102584,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"database_name","time":{"start":1734084103730,"stop":1734084103730,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"multi_param_engine_name","time":{"start":1734084495829,"stop":1734084495829,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"parentSuite","value":"tests.integration.resource_manager.V2"},{"name":"suite","value":"test_engine"},{"name":"host","value":"fv-az1937-143"},{"name":"thread","value":"2338-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.resource_manager.V2.test_engine"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"b5d9142efdf1e5ac.json","parameterValues":[]}