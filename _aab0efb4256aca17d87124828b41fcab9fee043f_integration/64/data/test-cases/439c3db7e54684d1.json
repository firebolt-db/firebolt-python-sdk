{"uid":"439c3db7e54684d1","name":"test_engine_name_not_exists","fullName":"tests.integration.dbapi.sync.V2.test_errors#test_engine_name_not_exists","historyId":"5f69e5d4e9bbb002814d4a0ef6f47104","time":{"start":1717764632631,"stop":1717764632904,"duration":273},"description":"Connection properly reacts to invalid engine name error.","descriptionHtml":"<p>Connection properly reacts to invalid engine name error.</p>\n","status":"broken","statusMessage":"firebolt.utils.exception.OperationalError: Error executing query:\nEngine 'integration_testing__1717764463918_________' does not exist or not authorized.","statusTrace":"engine_name = 'integration_testing__1717764463918'\ndatabase_name = 'integration_testing__1717764463918'\nauth = <firebolt.client.auth.client_credentials.ClientCredentials object at 0x7facb9ab9dc0>\naccount_name = 'automation', api_endpoint = 'api.staging.firebolt.io'\n\n    def test_engine_name_not_exists(\n        engine_name: str,\n        database_name: str,\n        auth: ClientCredentials,\n        account_name: str,\n        api_endpoint: str,\n    ) -> None:\n        \"\"\"Connection properly reacts to invalid engine name error.\"\"\"\n        with raises(FireboltEngineError):\n>           with connect(\n                account_name=account_name,\n                engine_name=engine_name + \"_________\",\n                database=database_name,\n                auth=auth,\n                api_endpoint=api_endpoint,\n            ) as connection:\n\ntests/integration/dbapi/sync/V2/test_errors.py:65: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/connection.py:56: in connect\n    return connect_v2(\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/connection.py:141: in connect_v2\n    cursor.execute(f\"USE ENGINE {engine_name}\")\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/common/base_cursor.py:122: in inner\n    return func(self, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:239: in execute\n    self._do_execute(query, params_list, skip_parsing)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:188: in _do_execute\n    self._raise_if_error(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <firebolt.db.cursor.CursorV2 object at 0x7facb95bf510>\nresp = <Response [500 Internal Server Error]>\n\n    def _raise_if_error(self, resp: Response) -> None:\n        \"\"\"Raise a proper error if any\"\"\"\n        if resp.status_code == codes.INTERNAL_SERVER_ERROR:\n>           raise OperationalError(\n                f\"Error executing query:\\n{resp.read().decode('utf-8')}\"\n            )\nE           firebolt.utils.exception.OperationalError: Error executing query:\nE           Engine 'integration_testing__1717764463918_________' does not exist or not authorized.\n\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:92: OperationalError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"database_name","time":{"start":1717764627082,"stop":1717764627082,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_id","time":{"start":1717764627083,"stop":1717764627083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"account_name","time":{"start":1717764627083,"stop":1717764627083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_secret","time":{"start":1717764627083,"stop":1717764627083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth","time":{"start":1717764627084,"stop":1717764627304,"duration":220},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_endpoint","time":{"start":1717764627304,"stop":1717764627305,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"engine_name","time":{"start":1717764627805,"stop":1717764627805,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"parentSuite","value":"tests.integration.dbapi.sync.V2"},{"name":"suite","value":"test_errors"},{"name":"host","value":"fv-az1024-416"},{"name":"thread","value":"2200-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.dbapi.sync.V2.test_errors"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"439c3db7e54684d1.json","parameterValues":[]}