{"uid":"470d5c5c83f651bd","name":"test_connect_no_db","fullName":"tests.integration.dbapi.sync.V2.test_queries#test_connect_no_db","historyId":"9b13accaae0cd283dd89bcda1ca00057","time":{"start":1718783732996,"stop":1718783732996,"duration":0},"description":"Connecting with engine name is handled properly.","descriptionHtml":"<p>Connecting with engine name is handled properly.</p>\n","status":"broken","statusMessage":"firebolt.utils.exception.OperationalError: Error executing query:\nEngine 'integration_testing__1718783690531' does not exist or not authorized.","statusTrace":"engine_name = 'integration_testing__1718783690531'\nauth = <firebolt.client.auth.client_credentials.ClientCredentials object at 0x7f81c9a81a40>\naccount_name = 'automation', api_endpoint = 'api.staging.firebolt.io'\n\n    @fixture\n    def connection_no_db(\n        engine_name: str,\n        auth: Auth,\n        account_name: str,\n        api_endpoint: str,\n    ) -> Connection:\n>       with connect(\n            engine_name=engine_name,\n            auth=auth,\n            account_name=account_name,\n            api_endpoint=api_endpoint,\n        ) as connection:\n\ntests/integration/dbapi/sync/V2/conftest.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/connection.py:57: in connect\n    return connect_v2(\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/connection.py:140: in connect_v2\n    cursor.execute(f'USE ENGINE \"{engine_name}\"')\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/common/base_cursor.py:122: in inner\n    return func(self, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:237: in execute\n    self._do_execute(query, params_list, skip_parsing)\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:186: in _do_execute\n    self._raise_if_error(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <firebolt.db.cursor.CursorV2 object at 0x7f81c9771460>\nresp = <Response [500 Internal Server Error]>\n\n    def _raise_if_error(self, resp: Response) -> None:\n        \"\"\"Raise a proper error if any\"\"\"\n        if resp.status_code == codes.INTERNAL_SERVER_ERROR:\n>           raise OperationalError(\n                f\"Error executing query:\\n{resp.read().decode('utf-8')}\"\n            )\nE           firebolt.utils.exception.OperationalError: Error executing query:\nE           Engine 'integration_testing__1718783690531' does not exist or not authorized.\n\n/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py:89: OperationalError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"account_name","time":{"start":1718783731519,"stop":1718783731519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_endpoint","time":{"start":1718783731520,"stop":1718783731520,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"engine_name","time":{"start":1718783731545,"stop":1718783731545,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth","time":{"start":1718783731546,"stop":1718783731720,"duration":174},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_id","time":{"start":1718783731546,"stop":1718783731546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_secret","time":{"start":1718783731546,"stop":1718783731546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connection_no_db","time":{"start":1718783732997,"stop":1718783733283,"duration":286},"status":"broken","statusMessage":"firebolt.utils.exception.OperationalError: Error executing query:\nEngine 'integration_testing__1718783690531' does not exist or not authorized.\n\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/_pytest/fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/_pytest/fixtures.py\", line 900, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/runner/work/firebolt-python-sdk/firebolt-python-sdk/tests/integration/dbapi/sync/V2/conftest.py\", line 38, in connection_no_db\n    with connect(\n  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/connection.py\", line 57, in connect\n    return connect_v2(\n  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/connection.py\", line 140, in connect_v2\n    cursor.execute(f'USE ENGINE \"{engine_name}\"')\n  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/common/base_cursor.py\", line 122, in inner\n    return func(self, *args, **kwargs)\n  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py\", line 237, in execute\n    self._do_execute(query, params_list, skip_parsing)\n  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py\", line 186, in _do_execute\n    self._raise_if_error(resp)\n  File \"/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/firebolt/db/cursor.py\", line 89, in _raise_if_error\n    raise OperationalError(\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[],"labels":[{"name":"parentSuite","value":"tests.integration.dbapi.sync.V2"},{"name":"suite","value":"test_queries"},{"name":"host","value":"fv-az1382-384"},{"name":"thread","value":"2182-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.dbapi.sync.V2.test_queries"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"470d5c5c83f651bd.json","parameterValues":[]}