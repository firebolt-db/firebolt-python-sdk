{"uid":"bc6895c004bf4e08","name":"test_insert_async","fullName":"tests.integration.dbapi.sync.V2.test_server_async#test_insert_async","historyId":"35a4dc31eef5e01e1e727303969677ba","time":{"start":1747039167068,"stop":1747039171765,"duration":4697},"status":"failed","statusMessage":"AssertionError: assert 0 == 1\n +  where 0 = len([])","statusTrace":"connection = <firebolt.db.connection.Connection object at 0x7ff71fb73f20>\n\n    def test_insert_async(connection: Connection) -> None:\n        cursor = connection.cursor()\n        rnd_suffix = str(randint(0, 1000))\n        table_name = f\"test_insert_async_{rnd_suffix}\"\n        try:\n            cursor.execute(f\"CREATE TABLE {table_name} (id INT, name TEXT)\")\n            cursor.execute_async(f\"INSERT INTO {table_name} (id, name) VALUES (1, 'test')\")\n            token = cursor.async_query_token\n            assert token is not None, \"Async token was not returned\"\n            # sleep for 2 sec to make sure the async query is completed\n            time.sleep(2)\n            assert connection.is_async_query_running(token) == False\n            assert connection.is_async_query_successful(token) == True\n            # Verify the result\n            cursor = connection.cursor()\n            cursor.execute(f\"SELECT * FROM {table_name}\")\n            result = cursor.fetchall()\n            assert result == [[1, \"test\"]]\n            info = connection.get_async_query_info(token)\n            assert len(info) == 1\n            # Wait for query history to be updated\n            time.sleep(2)\n            # Verify query id is showing in query history\n            cursor.execute(\n                \"SELECT 1 FROM information_schema.engine_query_history WHERE status='STARTED_EXECUTION' AND query_id = ?\",\n                [info[0].query_id],\n            )\n            query_history_result = cursor.fetchall()\n>           assert len(query_history_result) == 1\nE           assert 0 == 1\nE            +  where 0 = len([])\n\ntests/integration/dbapi/sync/V2/test_server_async.py:41: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"service_id","time":{"start":1747039149390,"stop":1747039149390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"engine_name","time":{"start":1747039149390,"stop":1747039149390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_secret","time":{"start":1747039149391,"stop":1747039149391,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth","time":{"start":1747039149391,"stop":1747039149546,"duration":155},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_endpoint","time":{"start":1747039149546,"stop":1747039149546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"account_name","time":{"start":1747039149546,"stop":1747039149546,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"database_name","time":{"start":1747039150548,"stop":1747039150548,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connection","time":{"start":1747039166896,"stop":1747039167067,"duration":171},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"connection::0","time":{"start":1747039171770,"stop":1747039171770,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.dbapi.sync.V2"},{"name":"suite","value":"test_server_async"},{"name":"host","value":"fv-az1277-11"},{"name":"thread","value":"2473-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.dbapi.sync.V2.test_server_async"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"bc6895c004bf4e08.json","parameterValues":[]}