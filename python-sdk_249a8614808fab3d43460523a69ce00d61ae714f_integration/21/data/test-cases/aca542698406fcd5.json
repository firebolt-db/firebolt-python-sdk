{"uid":"aca542698406fcd5","name":"test_bytea_roundtrip[core]","fullName":"tests.integration.dbapi.sync.V2.test_queries#test_bytea_roundtrip","historyId":"bde1f291cb1eb1ba01c3e6f25127bd41","time":{"start":1751884814412,"stop":1751884814435,"duration":23},"description":"Inserted and than selected bytea value doesn't get corrupted.","descriptionHtml":"<p>Inserted and than selected bytea value doesn't get corrupted.</p>\n","status":"broken","statusMessage":"firebolt.utils.exception.OperationalError: Error executing query:\n{\n  \"errors\": [\n    {\n      \"description\": \"Failed to start read write transaction with objects, error: 'Internal server error: only single read-write transaction is allowed, current running read-write transaction: 00000000000000350000', code: 13\"\n    }\n  ],\n  \"query\": {\n    \"query_id\": \"156d36f7-f6c8-452b-908d-7e5409ff0e3a\",\n    \"query_label\": null,\n    \"request_id\": \"ad75e3dd-f4a5-4a74-82ee-e2336d613261\"\n  },\n  \"statistics\": {\n    \"elapsed\": 0.0\n  }\n}","statusTrace":"connection = <firebolt.db.connection.Connection object at 0x7f157e0a3c10>\n\n    def test_bytea_roundtrip(\n        connection: Connection,\n    ) -> None:\n        \"\"\"Inserted and than selected bytea value doesn't get corrupted.\"\"\"\n        with connection.cursor() as c:\n            c.execute('DROP TABLE IF EXISTS \"test_bytea_roundtrip\"')\n>           c.execute(\n                'CREATE FACT TABLE \"test_bytea_roundtrip\"(id int, b bytea) primary index id'\n            )\n\ntests/integration/dbapi/sync/V2/test_queries.py:442: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/firebolt/common/cursor/decorators.py:24: in inner\n    return func(self, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/firebolt/db/cursor.py:338: in execute\n    self._do_execute(query, params_list, skip_parsing, timeout=timeout_seconds)\n/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/firebolt/db/cursor.py:238: in _do_execute\n    self._execute_single_query(\n/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/firebolt/db/cursor.py:265: in _execute_single_query\n    self._handle_query_execution(\n/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/firebolt/db/cursor.py:294: in _handle_query_execution\n    self._raise_if_error(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <firebolt.db.cursor.CursorV2 object at 0x7f157cd85550>\nresp = <Response [500 Internal Server Error]>\n\n    def _raise_if_error(self, resp: Response) -> None:\n        \"\"\"Raise a proper error if any\"\"\"\n        if codes.is_error(resp.status_code):\n            resp.read()\n            if resp.status_code == codes.INTERNAL_SERVER_ERROR:\n>               raise OperationalError(f\"Error executing query:\\n{resp.text}\")\nE               firebolt.utils.exception.OperationalError: Error executing query:\nE               {\nE                 \"errors\": [\nE                   {\nE                     \"description\": \"Failed to start read write transaction with objects, error: 'Internal server error: only single read-write transaction is allowed, current running read-write transaction: 00000000000000350000', code: 13\"\nE                   }\nE                 ],\nE                 \"query\": {\nE                   \"query_id\": \"156d36f7-f6c8-452b-908d-7e5409ff0e3a\",\nE                   \"query_label\": null,\nE                   \"request_id\": \"ad75e3dd-f4a5-4a74-82ee-e2336d613261\"\nE                 },\nE                 \"statistics\": {\nE                   \"elapsed\": 0.0\nE                 }\nE               }\n\n/opt/hostedtoolcache/Python/3.9.23/x64/lib/python3.9/site-packages/firebolt/db/cursor.py:105: OperationalError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"engine_name","time":{"start":1751884811972,"stop":1751884811972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"database_name","time":{"start":1751884811972,"stop":1751884811972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_id","time":{"start":1751884811973,"stop":1751884811973,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_secret","time":{"start":1751884811973,"stop":1751884811973,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth","time":{"start":1751884811974,"stop":1751884812223,"duration":249},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"core_auth","time":{"start":1751884812223,"stop":1751884812223,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_endpoint","time":{"start":1751884812224,"stop":1751884812224,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"account_name","time":{"start":1751884812224,"stop":1751884812224,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connection","time":{"start":1751884814281,"stop":1751884814406,"duration":125},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"connection::0","time":{"start":1751884814549,"stop":1751884814550,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.dbapi.sync.V2"},{"name":"suite","value":"test_queries"},{"name":"host","value":"pkrvmbietmlfzoi"},{"name":"thread","value":"3597-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.dbapi.sync.V2.test_queries"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"connection","value":"'core'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"aca542698406fcd5.json","parameterValues":["'core'"]}