{"uid":"18bbfbe8541de2c","name":"test_select_struct[core]","fullName":"tests.integration.dbapi.sync.V2.test_queries#test_select_struct","historyId":"5bf57f5a4b221adb4ff69ab0f4c6873b","time":{"start":1761621819640,"stop":1761621819661,"duration":21},"status":"broken","statusMessage":"firebolt.utils.exception.FireboltStructuredError: - Unknown setting enable_create_table_with_struct_type","statusTrace":"connection = <firebolt.db.connection.Connection object at 0x7f2626510f50>\nsetup_struct_query = \"\\n        SET advanced_mode=1;\\n        SET enable_create_table_v2=true;\\n        SET enable_struct_syntax=true;\\n   ...-07-31 01:01:01');\\n        INSERT INTO test_struct(id, s) SELECT 1, test_struct_helper FROM test_struct_helper;\\n    \"\ncleanup_struct_query = '\\n        DROP TABLE IF EXISTS test_struct;\\n        DROP TABLE IF EXISTS test_struct_helper;\\n    '\nselect_struct_query = 'SELECT test_struct FROM test_struct'\nselect_struct_description = [Column(name='test_struct', type_code=<firebolt.common._types.STRUCT object at 0x7f2625ece490>, display_size=None, internal_size=None, precision=None, scale=None, null_ok=None)]\nselect_struct_response = [[{'id': 1, 's': {'a': [1, 2], 'b': datetime.datetime(2019, 7, 31, 1, 1, 1)}}]]\n\n    def test_select_struct(\n        connection: Connection,\n        setup_struct_query: str,\n        cleanup_struct_query: str,\n        select_struct_query: str,\n        select_struct_description: List[Column],\n        select_struct_response: List[ColType],\n    ):\n        with connection.cursor() as c:\n            try:\n>               c.execute(setup_struct_query)\n\ntests/integration/dbapi/sync/V2/test_queries.py:625: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/firebolt/common/cursor/decorators.py:24: in inner\n    return func(self, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/firebolt/db/cursor.py:396: in execute\n    self._do_execute(query, params_list, skip_parsing, timeout=timeout_seconds)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/firebolt/db/cursor.py:254: in _do_execute\n    self._execute_plan(plan, timeout)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/firebolt/db/cursor.py:275: in _execute_plan\n    self._validate_set_parameter(query, timeout_controller.remaining())\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/firebolt/db/cursor.py:182: in _validate_set_parameter\n    self._raise_if_error(resp)\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/firebolt/db/cursor.py:127: in _raise_if_error\n    raise_error_from_response(resp)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nresp = <Response [404 Not Found]>\n\n    def raise_error_from_response(resp: Response) -> None:\n        \"\"\"\n        Raise a correct error from the response.\n        Look for a structured error in the body and raise it.\n        If the body doesn't contain a structured error,\n        log the body and raise a status code error.\n    \n        Args:\n            resp (Response): HTTP response\n        \"\"\"\n        to_raise = None\n        try:\n            decoded = resp.json()\n            if \"errors\" in decoded and len(decoded[\"errors\"]) > 0:\n                # Raise later to avoid catching it in the except block\n                to_raise = FireboltStructuredError(decoded)\n    \n        except Exception:\n            # If we can't parse the body, print out the error body\n            if \"Content-Length\" in resp.headers and int(resp.headers[\"Content-Length\"]) > 0:\n                logger.error(f\"Something went wrong: {resp.read().decode('utf-8')}\")\n    \n        if to_raise:\n>           raise to_raise\nE           firebolt.utils.exception.FireboltStructuredError: - Unknown setting enable_create_table_with_struct_type\n\n/opt/hostedtoolcache/Python/3.11.13/x64/lib/python3.11/site-packages/firebolt/utils/util.py:186: FireboltStructuredError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"insert_assert_session","time":{"start":1761621795992,"stop":1761621795992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"database_name","time":{"start":1761621795992,"stop":1761621795992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"insert_assert_add_to_builtins","time":{"start":1761621795992,"stop":1761621795992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"engine_name","time":{"start":1761621795992,"stop":1761621795992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1761621795992,"stop":1761621795992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth","time":{"start":1761621795993,"stop":1761621796051,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_secret","time":{"start":1761621795993,"stop":1761621795993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_id","time":{"start":1761621795993,"stop":1761621795993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"core_auth","time":{"start":1761621796051,"stop":1761621796051,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"core_url","time":{"start":1761621796052,"stop":1761621796052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_endpoint","time":{"start":1761621796052,"stop":1761621796052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"account_name","time":{"start":1761621796052,"stop":1761621796052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connection","time":{"start":1761621819615,"stop":1761621819639,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"insert_assert_maybe_fail","time":{"start":1761621819615,"stop":1761621819615,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cleanup_struct_query","time":{"start":1761621819639,"stop":1761621819639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_struct_query","time":{"start":1761621819639,"stop":1761621819639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"select_struct_query","time":{"start":1761621819639,"stop":1761621819640,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"select_struct_response","time":{"start":1761621819640,"stop":1761621819640,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"select_struct_description","time":{"start":1761621819640,"stop":1761621819640,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"connection::0","time":{"start":1761621819697,"stop":1761621819698,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"insert_assert_maybe_fail::0","time":{"start":1761621819698,"stop":1761621819698,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"insert_assert_session::0","time":{"start":1761621821896,"stop":1761621821896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.dbapi.sync.V2"},{"name":"suite","value":"test_queries"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"4391-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.dbapi.sync.V2.test_queries"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"connection","value":"'core'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":7,"unknown":0,"total":9},"items":[{"uid":"75e4580ba92cb67f","reportUrl":"https://firebolt-db.github.io/firebolt-python-sdk/allure/python-sdk_6bf80a06390b929e823c3d602691be955954bb68_core/712//#testresult/75e4580ba92cb67f","status":"broken","statusDetails":"firebolt.utils.exception.FireboltStructuredError: - Unknown setting enable_create_table_with_struct_type","time":{"start":1761621633367,"stop":1761621633390,"duration":23}},{"uid":"306f9e83fe6cddf1","reportUrl":"https://firebolt-db.github.io/firebolt-python-sdk/allure/python-sdk_6bf80a06390b929e823c3d602691be955954bb68_core/703//#testresult/306f9e83fe6cddf1","status":"passed","time":{"start":1761535889658,"stop":1761535889744,"duration":86}},{"uid":"f2ed4b9a8a2146ed","reportUrl":"https://firebolt-db.github.io/firebolt-python-sdk/allure/python-sdk_6bf80a06390b929e823c3d602691be955954bb68_core/711//#testresult/f2ed4b9a8a2146ed","status":"passed","time":{"start":1761535704738,"stop":1761535704818,"duration":80}},{"uid":"7524ad3b0e9bbc22","reportUrl":"https://firebolt-db.github.io/firebolt-python-sdk/allure/python-sdk_6bf80a06390b929e823c3d602691be955954bb68_core/702//#testresult/7524ad3b0e9bbc22","status":"passed","time":{"start":1761449046760,"stop":1761449046836,"duration":76}},{"uid":"32728be839028386","reportUrl":"https://firebolt-db.github.io/firebolt-python-sdk/allure/python-sdk_6bf80a06390b929e823c3d602691be955954bb68_core/710//#testresult/32728be839028386","status":"passed","time":{"start":1761448851784,"stop":1761448851870,"duration":86}},{"uid":"5fe904003a2fbe26","reportUrl":"https://firebolt-db.github.io/firebolt-python-sdk/allure/python-sdk_6bf80a06390b929e823c3d602691be955954bb68_core/701//#testresult/5fe904003a2fbe26","status":"passed","time":{"start":1761362477253,"stop":1761362477331,"duration":78}},{"uid":"51f49b6f508b6709","reportUrl":"https://firebolt-db.github.io/firebolt-python-sdk/allure/python-sdk_6bf80a06390b929e823c3d602691be955954bb68_core/709//#testresult/51f49b6f508b6709","status":"passed","time":{"start":1761362306975,"stop":1761362307057,"duration":82}},{"uid":"d3bda2732086984","reportUrl":"https://firebolt-db.github.io/firebolt-python-sdk/allure/python-sdk_6bf80a06390b929e823c3d602691be955954bb68_core/700//#testresult/d3bda2732086984","status":"passed","time":{"start":1761275991866,"stop":1761275991946,"duration":80}}]},"tags":[]},"source":"18bbfbe8541de2c.json","parameterValues":["'core'"]}