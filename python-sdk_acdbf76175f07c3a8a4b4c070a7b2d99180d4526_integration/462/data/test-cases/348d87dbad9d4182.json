{"uid":"348d87dbad9d4182","name":"test_streaming_limited_memory","fullName":"tests.integration.dbapi.sync.V2.test_streaming#test_streaming_limited_memory","historyId":"4d695bc79a533e6f37dcc36374e0216d","time":{"start":1744720323091,"stop":1744720327337,"duration":4246},"status":"failed","statusMessage":"AssertionError: Memory usage exceeded limit after execution (increased by 2018.3125MB)\nassert 2018.3125 < 100","statusTrace":"connection = <firebolt.db.connection.Connection object at 0x7f79a3f7fc10>\n\n    def test_streaming_limited_memory(\n        connection: Connection,\n    ) -> None:\n    \n        memory_overhead_threshold_mb = 100\n        row_count, value = (\n            10000000,\n            \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n        )\n        original_memory_mb = get_process_memory_mb()\n        sql = f\"select '{value}' from generate_series(1, {row_count})\"\n        with connection.cursor() as c:\n            c.execute_stream(sql)\n    \n            memory_diff = get_process_memory_mb() - original_memory_mb\n>           assert (\n                memory_diff < memory_overhead_threshold_mb\n            ), f\"Memory usage exceeded limit after execution (increased by {memory_diff}MB)\"\nE           AssertionError: Memory usage exceeded limit after execution (increased by 2018.3125MB)\nE           assert 2018.3125 < 100\n\ntests/integration/dbapi/sync/V2/test_streaming.py:92: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"engine_name","time":{"start":1744720301820,"stop":1744720301821,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_secret","time":{"start":1744720301821,"stop":1744720301821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"database_name","time":{"start":1744720301821,"stop":1744720301821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"auth","time":{"start":1744720301821,"stop":1744720302002,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"service_id","time":{"start":1744720301821,"stop":1744720301821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"account_name","time":{"start":1744720302002,"stop":1744720302005,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_endpoint","time":{"start":1744720302005,"stop":1744720302005,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"connection","time":{"start":1744720322958,"stop":1744720323090,"duration":132},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"connection::0","time":{"start":1744720327344,"stop":1744720327344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.integration.dbapi.sync.V2"},{"name":"suite","value":"test_streaming"},{"name":"host","value":"fv-az1307-866"},{"name":"thread","value":"2436-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.dbapi.sync.V2.test_streaming"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"348d87dbad9d4182.json","parameterValues":[]}